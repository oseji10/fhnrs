import{r as i,m as D,j as e,L as B}from"./app-BLcnmwxa.js";import{A as L}from"./app-layout-cCeiv3je.js";import"./button-ok2AVkU2.js";import"./index-k-EkBWBy.js";import"./index-CfWNa9za.js";const M=[{title:"Staff",href:"/staff"}];function V({staff:N,cadres:g,dbas:b}){const[j,n]=i.useState(!1),[k,x]=i.useState(!1),[u,o]=i.useState(null),[t,v]=i.useState(null),[d,l]=i.useState(1),{data:s,setData:a,post:w,put:A,delete:S,processing:h,errors:p,reset:c}=D({fileNumber:"",surname:"",firstName:"",lastName:"",otherNames:"",dateOfBirth:"",gender:"",stateOfOrigin:"",lgaOfOrigin:"",dateOfFirstAppointment:"",dateOfPresentAppointment:"",dateOfConfirmation:"",cadre:"",accountNumber:"",bankId:"",PFANumber:"",PFA:"",NHFNumber:"",HISNumber:"",HIS:"",dba:"",status:""}),y=3,O=r=>{if(r.preventDefault(),d<y){l(d+1);return}u?A(`/staff/${u.staffId}`,{onSuccess:()=>{n(!1),o(null),l(1),c()}}):w("/staff",{onSuccess:()=>{n(!1),l(1),c()}})},C=r=>{o(r),a({fileNumber:r.fileNumber||"",surname:r.surname||"",firstName:r.firstName||"",lastName:r.lastName||"",otherNames:r.otherNames||"",dateOfBirth:r.dateOfBirth||"",gender:r.gender||"",stateOfOrigin:r.stateOfOrigin||"",lgaOfOrigin:r.lgaOfOrigin||"",dateOfFirstAppointment:r.dateOfFirstAppointment||"",dateOfPresentAppointment:r.dateOfPresentAppointment||"",dateOfConfirmation:r.dateOfConfirmation||"",cadre:r.cadre||"",accountNumber:r.accountNumber||"",bankId:r.bankId||"",PFANumber:r.PFANumber||"",PFA:r.PFA||"",NHFNumber:r.NHFNumber||"",HISNumber:r.HISNumber||"",HIS:r.HIS||"",dba:r.dba||"",status:r.status||""}),l(1),n(!0)},F=r=>{v(r),x(!0)},I=r=>{confirm("Are you sure you want to delete this staff record?")&&S(`/staff/${r}`)},H=()=>{switch(d){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Personal Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"File Number"}),e.jsx("input",{type:"text",value:s.fileNumber,onChange:r=>a("fileNumber",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),p.fileNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.fileNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Surname"}),e.jsx("input",{type:"text",value:s.surname,onChange:r=>a("surname",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name"}),e.jsx("input",{type:"text",value:s.firstName,onChange:r=>a("firstName",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date of Birth"}),e.jsx("input",{type:"date",value:s.dateOfBirth,onChange:r=>a("dateOfBirth",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Gender"}),e.jsxs("select",{value:s.gender,onChange:r=>a("gender",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Appointment Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date of First Appointment"}),e.jsx("input",{type:"date",value:s.dateOfFirstAppointment,onChange:r=>a("dateOfFirstAppointment",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date of Present Appointment"}),e.jsx("input",{type:"date",value:s.dateOfPresentAppointment,onChange:r=>a("dateOfPresentAppointment",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cadre"}),e.jsxs("select",{value:s.cadre,onChange:r=>a("cadre",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Cadre"}),g.map(r=>e.jsxs("option",{value:r.cadreId,children:[r.cadreName," - ",r.step]},r.cadreId))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"DBA"}),e.jsxs("select",{value:s.dba,onChange:r=>a("dba",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select DBA"}),b.map(r=>e.jsx("option",{value:r.dbaId,children:r.dbaName},r.dbaId))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{value:s.status,onChange:r=>a("status",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Financial Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Account Number"}),e.jsx("input",{type:"text",value:s.accountNumber,onChange:r=>a("accountNumber",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"PFA Number"}),e.jsx("input",{type:"text",value:s.PFANumber,onChange:r=>a("PFANumber",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"NHF Number"}),e.jsx("input",{type:"text",value:s.NHFNumber,onChange:r=>a("NHFNumber",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"HIS Number"}),e.jsx("input",{type:"text",value:s.HISNumber,onChange:r=>a("HISNumber",r.target.value),className:"block w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]});default:return null}},P=()=>{var r,f;return t?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Staff Summary"}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"File Number:"})," ",t.fileNumber||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Surname:"})," ",t.surname||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"First Name:"})," ",t.firstName||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Name:"})," ",t.lastName||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Other Names:"})," ",t.otherNames||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date of Birth:"})," ",t.dateOfBirth||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gender:"})," ",t.gender||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"State of Origin:"})," ",t.stateOfOrigin||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"LGA of Origin:"})," ",t.lgaOfOrigin||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date of First Appointment:"})," ",t.dateOfFirstAppointment||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date of Present Appointment:"})," ",t.dateOfPresentAppointment||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date of Confirmation:"})," ",t.dateOfConfirmation||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cadre:"})," ",((r=g.find(m=>m.id===parseInt(t.cadre)))==null?void 0:r.name)||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Number:"})," ",t.accountNumber||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Bank ID:"})," ",t.bankId||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"PFA Number:"})," ",t.PFANumber||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"PFA:"})," ",t.PFA||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"NHF Number:"})," ",t.NHFNumber||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"HIS Number:"})," ",t.HISNumber||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"HIS:"})," ",t.HIS||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"DBA:"})," ",((f=b.find(m=>m.dbaId===parseInt(t.dba)))==null?void 0:f.dbaName)||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",t.status||"N/A"]})]})]}):null};return e.jsxs(L,{breadcrumbs:M,children:[e.jsx(B,{title:"Staff Management"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 relative",children:[e.jsx("div",{className:"mb-4",children:e.jsx("button",{onClick:()=>{o(null),c(),l(1),n(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Add Staff"})}),e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"File Number"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Staff Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:N.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:r.staffId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:r.fileNumber}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[r.surname," ",r.firstName," ",r.otherNames]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:r.status}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>F(r),className:"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",title:"View Summary",children:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("button",{onClick:()=>C(r),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Edit",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>I(r.staffId),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Delete",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4M4 7h16"})})})]})})]},r.staffId))})]})})}),j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-full max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl mx-auto relative",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:u?"Edit Staff":"Add New Staff"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xl",children:"✕"})})]}),e.jsx("div",{className:"flex justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[1,2,3].map(r=>e.jsxs("div",{className:`flex-1 text-center text-sm sm:text-base ${r===d?"text-blue-600 font-semibold border-b-2 border-blue-600":"text-gray-500"}`,children:["Step ",r]},r))}),e.jsxs("form",{onSubmit:O,children:[e.jsx("div",{className:"max-h-[50vh] overflow-y-auto p-4",children:H()}),e.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row justify-between gap-3",children:[d>1&&e.jsx("button",{type:"button",onClick:()=>l(d-1),className:"w-full sm:w-auto px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-600 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500",children:"Previous"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto sm:ml-auto",children:[e.jsx("button",{type:"button",onClick:()=>{n(!1),o(null),l(1),c()},className:"w-full sm:w-auto px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-600 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:h,className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:h?"Saving...":d===y?"Save":"Next"})]})]})]})]})}),k&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 w-full max-w-md mx-auto relative",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Staff Summary"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xl",children:"✕"})]}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto p-4",children:P()}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Close"})})]})})]})]})}export{V as default};
